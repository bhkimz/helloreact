(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(51)},34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(25),c=a.n(o),l=(a(34),a(35),a(5)),d=a(10),i=a(11),u=a(13),s=a(12),b=a(14),m=(a(40),function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Menu"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:this.props.onClick,className:"MenuItem"},"\uba54\ub274 1"),r.a.createElement("li",{onClick:this.props.onClick,className:"MenuItem"},"\uba54\ub274 2"),r.a.createElement("li",{onClick:this.props.onClick,className:"MenuItem"},"\uba54\ub274 3")))}}]),t}(n.Component)),h=a(6),f=a(17),p=a(54),E=a(53),v=a(20),O=a.n(v),g=O.a.initializeApp({apiKey:"AIzaSyBOXOjavxdbV8sirvJsHGicnfzIdGFYVX8",authDomain:"reacthello-38753.firebaseapp.com",databaseURL:"https://reacthello-38753.firebaseio.com",projectId:"reacthello-38753",storageBucket:"reacthello-38753.appspot.com",messagingSenderId:"646174446912",appId:"1:646174446912:web:2ec1567fce657f2c"});console.log(g.name);var j,w=O.a.firestore(),k=O.a,B=Object(p.a)("SAVE"),y=Object(p.a)("REMOVE",function(e){return e}),C=Object(p.a)("READ"),S=Object(p.a)("LIST"),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){if(e.brdno)return console.log("2:"+e),e.brddate=k.firestore.Timestamp.now(),w.collection("boards").doc(e.brdno).update(e).then(function(){e.brddate=e.brddate.toDate().toLocaleDateString("ko-KR"),t(B(e))});console.log("1:"+e);var a=w.collection("boards").doc();return e.brdno=a.id,e.brddate=k.firestore.Timestamp.now(),a.set(e).then(function(){e.brddate=e.brddate.toDate().toLocaleDateString("ko-KR"),t(B(e))})}},D=Object(E.a)((j={},Object(h.a)(j,"LIST",function(e,t){return{boards:t.payload,selectedBoard:{}}}),Object(h.a)(j,"SAVE",function(e,t){var a=t.payload,n=e.boards;return-1===n.findIndex(function(e){return e.brdno===a.brdno})?{boards:[Object(f.a)({date:new Date},a)].concat(n),selectedBoard:{}}:{boards:n.map(function(e){return a.brdno===e.brdno?Object(f.a)({},a):e}),selectedBoard:{}}}),Object(h.a)(j,"REMOVE",function(e,t){var a=t.payload,n=e.boards;return Object(f.a)({},e,{boards:n.filter(function(e){return e.brdno!==a}),selectedBoard:{}})}),Object(h.a)(j,"READ",function(e,t){var a=t.payload,n=e.boards;return Object(f.a)({},e,{selectedBoard:n.find(function(e){return e.brdno===a})})}),j),{boards:[],selectedBoard:{}}),I=Object(l.b)(null,function(e){return{board_read:function(t){return e(C(t))},firebase_board_remove:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return w.collection("boards").doc(e).delete().then(function(){t(y(e))})}}(t))}}})(function(e){var t=e.row,a=e.inx,n=e.board_read,o=e.firebase_board_remove;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("a",{onClick:function(){return n(t.brdno)}}," ",t.brdtitle," ")),r.a.createElement("td",null,t.brdwriter),r.a.createElement("td",null,t.brddate),r.a.createElement("td",null,r.a.createElement("a",{onClick:function(){o(t.brdno)}},"X")))}),_=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={},a.initialSelectedBoard={brdno:"",brdtitle:"",brdwriter:"",rddate:""},a.handleChange=function(e){console.log("handleChange  [e.target.name]:"+[e.target.name]+"/e.target.value:"+e.target.value),a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleSave=function(){a.props.dispatch(R(a.state)),a.setState(a.initialSelectedBoard)},a}return Object(b.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(e.selectedBoard)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{placeholder:"title",name:"brdtitle",value:this.state.brdtitle,onChange:this.handleChange}),r.a.createElement("input",{placeholder:"name",name:"brdwriter",value:this.state.brdwriter,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.handleSave},"Save"))}}]),t}(n.Component),N=Object(l.b)(function(e){return{selectedBoard:e.selectedBoard}})(_),A=function(e){function t(){return Object(d.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch((console.log("firebase_board_list:"),function(e){return w.collection("boards").orderBy("brddate","desc").get().then(function(t){var a=[];t.forEach(function(e){var t=e.data();t.brddate=t.brddate.toDate().toLocaleDateString("ko-KR"),a.push(t)}),e(S(a))})}))}},{key:"render",value:function(){var e=this.props.boards;return r.a.createElement("div",null,r.a.createElement("h3",null,"React + Redux Board 1"),r.a.createElement(N,null),r.a.createElement("table",{border:"1"},r.a.createElement("tbody",null,r.a.createElement("tr",{align:"center"},r.a.createElement("td",{width:"50"},"No."),r.a.createElement("td",{width:"300"},"Title"),r.a.createElement("td",{width:"100"},"Name"),r.a.createElement("td",{width:"100"},"Date"),r.a.createElement("td",{width:"100"},"Del")),e.map(function(e,t){return r.a.createElement(I,{key:t,inx:t+1,row:e})}))))}}]),t}(n.Component),M=Object(l.b)(function(e){return{boards:e.Board_Reducer.boards,selectedBoard:e.Board_Reducer.selectedBoard}})(A);var x=Object(l.b)(function(e){return{boards:e.boards}})(function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("div",{className:"Title"},r.a.createElement("h2",null,"bhkimz blog"))),r.a.createElement("nav",null,r.a.createElement(m,null)),r.a.createElement("section",{className:"Content"},r.a.createElement(M,null)),r.a.createElement("footer",null,r.a.createElement("div",null,"copy right bhkimz")))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(7),T=Object(L.c)({Board_Reducer:D}),V=a(28),z=Object(L.d)(T,Object(L.a)(V.a));console.log("===========state start"),console.log(z.getState()),console.log("===========state end"),c.a.render(r.a.createElement(l.a,{store:z},r.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,1,2]]]);
//# sourceMappingURL=main.015fc5d4.chunk.js.map